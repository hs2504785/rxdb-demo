(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0EQZ":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return a});var i=n("BBcS"),r=n("4krO"),o=n("oXA7"),s=n("fXoL");class c{}function a(e){return e&&"function"==typeof e.connect}class l extends c{constructor(e){super(),this._data=e}connect(){return Object(i.a)(this._data)?this._data:Object(r.a)(this._data)}disconnect(){}}class d{applyChanges(e,t,n,i,r){e.forEachOperation((e,i,o)=>{let s,c;if(null==e.previousIndex){const r=n(e,i,o);s=t.createEmbeddedView(r.templateRef,r.context,r.index),c=1}else null==o?(t.remove(i),c=3):(s=t.get(i),t.move(s,o),c=2);r&&r({context:null==s?void 0:s.context,operation:c,record:e})})}detach(){}}class u{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,i,r){e.forEachOperation((e,o,s)=>{let c,a;null==e.previousIndex?(c=this._insertView(()=>n(e,o,s),s,t,i(e)),a=c?1:0):null==s?(this._detachAndCacheView(o,t),a=3):(c=this._moveView(o,s,t,i(e)),a=2),r&&r({context:null==c?void 0:c.context,operation:a,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,i){const r=this._insertViewFromCache(t,n);if(r)return void(r.context.$implicit=i);const o=e();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,i){const r=n.get(e);return n.move(r,t),r.context.$implicit=i,r}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class h{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new o.a,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const m=new s.s("_ViewRepeater")},"8iEs":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("Jlqm"),r=n("EPzc"),o=n("g/MW"),s=n("xt23"),c=n("QoT1");function a(e,t=i.a){return n=()=>Object(c.a)(e,t),Object(r.b)((e,t)=>{let i=!1,r=null,c=null,a=!1;const l=()=>{if(null==c||c.unsubscribe(),c=null,i){i=!1;const e=r;r=null,t.next(e)}a&&t.complete()},d=()=>{c=null,a&&t.complete()};e.subscribe(new s.a(t,e=>{i=!0,r=e,c||Object(o.c)(n()).subscribe(c=new s.a(t,l,d))},()=>{a=!0,(!i||!c||c.closed)&&t.complete()}))});var n}},BBcS:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("SIQg"),r=n("2QHy");function o(e){return!!e&&(e instanceof i.a||Object(r.a)(e.lift)&&Object(r.a)(e.subscribe))}},KOvq:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("SIQg"),r=n("1M4b"),o=n("O0iu"),s=n("2QHy"),c=n("CLjF"),a=n("vfWG");const l=["addListener","removeListener"],d=["addEventListener","removeEventListener"],u=["on","off"];function h(e,t,n,b){if(Object(s.a)(n)&&(b=n,n=void 0),b)return h(e,t,n).pipe(Object(c.a)(b));const[f,p]=function(e){return Object(s.a)(e.addEventListener)&&Object(s.a)(e.removeEventListener)}(e)?d.map(i=>r=>e[i](t,r,n)):function(e){return Object(s.a)(e.addListener)&&Object(s.a)(e.removeListener)}(e)?l.map(m(e,t)):function(e){return Object(s.a)(e.on)&&Object(s.a)(e.off)}(e)?u.map(m(e,t)):[];if(!f&&Object(o.a)(e))return Object(r.a)(e=>h(e,t,n))(Object(a.a)(e));if(!f)throw new TypeError("Invalid event target");return new i.a(e=>{const t=(...t)=>e.next(1<t.length?t:t[0]);return f(t),()=>p(t)})}function m(e,t){return n=>i=>e[n](t,i)}},RNGU:function(e,t,n){"use strict";n.r(t),n.d(t,"RxdbdemoService",function(){return r}),n.d(t,"RxdbdemoComponent",function(){return q}),n.d(t,"RxdbdemoModule",function(){return U});var i=n("fXoL");let r=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var o=n("ofXK"),s=n("Wp6s"),c=n("mrSG"),a=n("bMpb");let l=(()=>{class e{constructor(e){this.databaseService=e,this.heroCollection=this.databaseService.db.hero,this.initHeroes()}initHeroes(){this.heroCollection.bulkInsert([{color:"#032c33",hp:30,maxHP:50,skills:[{name:"use the ring",damage:0}],name:"Frodo"},{color:"#5d686c",hp:100,maxHP:100,skills:[],name:"Gandalf"},{maxHP:819.7604540938978,color:"pink",hp:93,skills:[],name:"hemant"},{maxHP:618.8025655939274,color:"blue",hp:100,skills:[],name:"name"},{maxHP:678.4904025062559,color:"cyan",hp:93,skills:[],name:"ooaoaoaoa"},{maxHP:217.7168432469147,color:"green",hp:100,skills:[],name:"ppp"},{maxHP:988.0275266006324,color:"red",hp:100,skills:[],name:"sss"}])}getHeroes(){return this.heroCollection.find().$}getCompletedTodoItems(){return this.heroCollection.find().where("completed").eq(!0).$}addHero(e){return Object(c.a)(this,void 0,void 0,function*(){console.log(e)})}removeTodoItem(e){return Object(c.a)(this,void 0,void 0,function*(){const t=this.heroCollection.find().where("id").eq(e.id);return yield t.remove()})}updateTodoItem(e){return Object(c.a)(this,void 0,void 0,function*(){return yield this.heroCollection.upsert(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Xb(a.a))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("MutI");function u(e,t){if(1&e){const e=i.Ub();i.Tb(0,"mat-list-item",2),i.Ob(1,"div",3),i.Tb(2,"div",4),i.xc(3),i.Tb(4,"div",5),i.Ob(5,"div",6),i.Sb(),i.Sb(),i.Tb(6,"div",7),i.Tb(7,"i",8),i.ac("click",function(){i.pc(e);const n=t.$implicit;return i.ec().editHero(n)}),i.Sb(),i.Tb(8,"i",9),i.ac("click",function(){i.pc(e);const n=t.$implicit;return i.ec().deleteHero(n)}),i.Sb(),i.Sb(),i.Sb()}if(2&e){const e=t.$implicit;i.Cb(1),i.sc("background-color",e.color),i.Cb(2),i.zc(" ",e.name," "),i.Cb(2),i.sc("width",e.hpPercent()+"%")}}let h=(()=>{class e{constructor(e){this.herodbService=e,this.emittedFirst=!1,this.editChange=new i.o,this.heroes$=this.herodbService.getHeroes()}set edit(e){console.log("editHero: "+e.name),this.editChange.emit(e)}editHero(e){this.edit=e}deleteHero(e){e.remove()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(l))},e.\u0275cmp=i.Hb({type:e,selectors:[["heroes-list"]],outputs:{editChange:"edit"},decls:3,vars:3,consts:[[1,"hero-list-component"],["class","listHero",4,"ngFor","ngForOf"],[1,"listHero"],[1,"color-box"],[1,"name"],[1,"life"],[1,"currentPercent"],[1,"actions"],["aria-hidden","true",1,"icon","ti-pencil","mr-2",3,"click"],["aria-hidden","true",1,"icon","ti-trash",3,"click"]],template:function(e,t){1&e&&(i.Tb(0,"mat-list",0),i.vc(1,u,9,5,"mat-list-item",1),i.fc(2,"async"),i.Sb()),2&e&&(i.Cb(1),i.jc("ngForOf",i.gc(2,1,t.heroes$)))},directives:[d.a,o.k,d.b],pipes:[o.b],styles:[".listHero[_ngcontent-%COMP%]{width:100%}.listHero[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{width:20px;height:20px;float:left;margin-right:11px;border-radius:2px;border:1px solid grey}.listHero[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1}.listHero[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .life[_ngcontent-%COMP%]{width:85%;height:4px;background-color:#e4e4e4}.listHero[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .life[_ngcontent-%COMP%]   .currentPercent[_ngcontent-%COMP%]{height:100%;background-color:green}.listHero[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e})();var m=n("3Pt+"),b=n("kmnG"),f=n("nLfN"),p=n("8LU1"),v=n("eX4W"),_=n("oXA7");n("KOvq"),n("8iEs"),n("bk9D");const g=Object(f.f)({passive:!0});let C=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return v.a;const t=Object(p.e)(e),n=this._monitoredElements.get(t);if(n)return n.subject;const i=new _.a,r="cdk-text-field-autofilled",o=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",o,g),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",o,g)}}),i}stopMonitoring(e){const t=Object(p.e)(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(i.Xb(f.a),i.Xb(i.B))},e.\u0275prov=Object(i.Jb)({factory:function(){return new e(Object(i.Xb)(f.a),Object(i.Xb)(i.B))},token:e,providedIn:"root"}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({imports:[[f.b]]}),e})();var x=n("FKr1");const O=new i.s("MAT_INPUT_VALUE_ACCESSOR"),S=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let w=0;class E{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const T=Object(x.t)(E);let j=(()=>{class e extends T{constructor(e,t,n,i,r,o,s,c,a,l){super(o,i,r,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=c,this._formField=l,this._uid="mat-input-"+w++,this.focused=!1,this.stateChanges=new _.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Object(f.e)().has(e));const d=this._elementRef.nativeElement,u=d.nodeName.toLowerCase();this._inputValueAccessor=s||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&a.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Object(p.c)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Object(p.c)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Object(f.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Object(p.c)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){S.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.l),i.Nb(f.a),i.Nb(m.f,10),i.Nb(m.i,8),i.Nb(m.c,8),i.Nb(x.c),i.Nb(O,10),i.Nb(C),i.Nb(i.B),i.Nb(b.a,8))},e.\u0275dir=i.Ib({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&i.ac("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Wb("disabled",t.disabled)("required",t.required),i.Db("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState&&!t.empty)("aria-required",t.required),i.Fb("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.Bb([{provide:b.c,useExisting:e}]),i.zb,i.Ab]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({providers:[x.c],imports:[[y,b.d,x.f],y,b.d]}),e})();var M=n("bTqV");const I=["input"];function P(e,t){if(1&e){const e=i.Ub();i.Tb(0,"form",1,2),i.ac("submit",function(){i.pc(e);const t=i.nc(1);return i.ec().submit(t.value)}),i.Tb(2,"mat-form-field"),i.Ob(3,"input",3,4),i.Sb(),i.Ob(5,"br"),i.Tb(6,"mat-form-field"),i.Ob(7,"input",5),i.Sb(),i.Ob(8,"br"),i.Tb(9,"button",6),i.xc(10,"insert"),i.Sb(),i.Sb()}if(2&e){const e=i.ec();i.Cb(3),i.jc("ngModel",e.tempDoc.name)("autofocus",!0),i.Cb(4),i.jc("ngModel",e.tempDoc.color)}}let H=(()=>{class e{constructor(e){this.herodbService=e,this.reset()}reset(){this.tempDoc=this.herodbService.heroCollection.newDocument({maxHP:900*Math.random()+100})}submit(e){return Object(c.a)(this,void 0,void 0,function*(){this.tempDoc.name=e.name,this.tempDoc.color=e.color;try{yield this.tempDoc.save(),this.reset()}catch(t){throw alert("Error: Please check console"),console.error("hero-insert.submit(): error:"),t}this.inputfield.nativeElement.focus()})}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(l))},e.\u0275cmp=i.Hb({type:e,selectors:[["hero-insert"]],viewQuery:function(e,t){if(1&e&&i.Bc(I,1),2&e){let e;i.mc(e=i.bc())&&(t.inputfield=e.first)}},decls:1,vars:1,consts:[["autocomplete","off","class","hero-insert-component",3,"submit",4,"ngIf"],["autocomplete","off",1,"hero-insert-component",3,"submit"],["form","ngForm"],["matInput","","name","name","placeholder","Name",3,"ngModel","autofocus"],["input",""],["matInput","","name","color","placeholder","Color",3,"ngModel"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&i.vc(0,P,11,3,"form",0),2&e&&i.jc("ngIf",t.tempDoc)},directives:[o.l,m.l,m.h,m.i,b.b,j,m.b,m.g,m.j,M.a],styles:["hero-insert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], hero-insert[_ngcontent-%COMP%]   mat-input[_ngcontent-%COMP%]{border-radius:4px;width:100%}hero-insert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px!important}"],changeDetection:0}),e})();var N=n("r9Bt");function V(e,t){if(1&e){const e=i.Ub();i.Tb(0,"div",8),i.Tb(1,"h4"),i.xc(2,"Warning:"),i.Sb(),i.Tb(3,"p"),i.xc(4," Someone else has "),i.Tb(5,"b"),i.xc(6,"changed"),i.Sb(),i.xc(7," this document. If you click save, you will overwrite the changes. "),i.Sb(),i.Tb(8,"button",9),i.ac("click",function(){return i.pc(e),i.ec(2).resync()}),i.xc(9,"resync"),i.Sb(),i.Sb()}}function A(e,t){1&e&&(i.Tb(0,"div",10),i.Tb(1,"h4"),i.xc(2,"Error:"),i.Sb(),i.Tb(3,"p"),i.xc(4," Someone else has "),i.Tb(5,"b"),i.xc(6,"deleted"),i.Sb(),i.xc(7," this document. You can not save anymore. "),i.Sb(),i.Sb())}function L(e,t){if(1&e){const e=i.Ub();i.Tb(0,"button",11),i.ac("click",function(){return i.pc(e),i.ec(2).submit()}),i.xc(1," submit "),i.Sb()}}function R(e,t){if(1&e){const e=i.Ub();i.Tb(0,"mat-card",1),i.Tb(1,"mat-card-subtitle"),i.xc(2,"Edit"),i.Sb(),i.vc(3,V,10,0,"div",2),i.vc(4,A,8,0,"div",3),i.fc(5,"async"),i.Tb(6,"h5"),i.Ob(7,"div",4),i.xc(8),i.Sb(),i.Tb(9,"mat-form-field"),i.xc(10," HP: "),i.Tb(11,"input",5),i.ac("ngModelChange",function(t){return i.pc(e),i.ec().formValue=t}),i.Sb(),i.Sb(),i.Ob(12,"br"),i.Tb(13,"button",6),i.ac("click",function(){return i.pc(e),i.ec().cancel()}),i.xc(14," cancel "),i.Sb(),i.vc(15,L,2,0,"button",7),i.fc(16,"async"),i.Sb()}if(2&e){const e=i.ec();i.Cb(3),i.jc("ngIf",!e.synced),i.Cb(1),i.jc("ngIf",i.gc(5,8,e.hero.deleted$)),i.Cb(3),i.sc("background-color",e.hero.color),i.Cb(1),i.zc(" ",e.hero.name," "),i.Cb(3),i.jc("ngModel",e.formValue)("max",e.hero.maxHP),i.Cb(4),i.jc("ngIf",!i.gc(16,10,e.hero.deleted$))}}let B=(()=>{class e{constructor(e){this._cdr=e,this.done=new i.o,this.synced=!0,this.formValue=0,this.subs=[],this.synced=!0}ngOnInit(){this.formValue=this.hero.hp,this.subs.push(this.hero.$.pipe(Object(N.a)(1)).subscribe(()=>{this.synced=!1,this._cdr.detectChanges()}))}submit(){return Object(c.a)(this,void 0,void 0,function*(){yield this.hero.atomicSet("hp",this.formValue),this.done.emit(!0)})}resync(){this.formValue=this.hero.hp,this.synced=!0,this._cdr.detectChanges()}cancel(){return Object(c.a)(this,void 0,void 0,function*(){this.done.emit(!1)})}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(i.h))},e.\u0275cmp=i.Hb({type:e,selectors:[["hero-edit"]],inputs:{hero:"hero"},outputs:{done:"done"},features:[i.Bb([])],decls:1,vars:1,consts:[["class","hero-edit-component",4,"ngIf"],[1,"hero-edit-component"],["class","alert alert-warning",4,"ngIf"],["class","alert deleted",4,"ngIf"],[1,"color-box"],["matInput","","type","number","min","0","name","hp",3,"ngModel","max","ngModelChange"],["mat-raised-button","","color","warn",1,"mr-2",3,"click"],["class","submitButton","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"alert","alert-warning"],["mat-raised-button","","color","primary",3,"click"],[1,"alert","deleted"],["mat-raised-button","","color","primary",1,"submitButton",3,"click"]],template:function(e,t){1&e&&i.vc(0,R,17,12,"mat-card",0),2&e&&i.jc("ngIf",t.hero)},directives:[o.l,s.a,s.d,b.b,j,m.k,m.b,m.g,m.j,M.a],pipes:[o.b],styles:["hero-edit[_ngcontent-%COMP%]{position:fixed;z-index:10;width:70%;margin-left:10%;min-height:200px;margin-top:-5px}hero-edit[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{width:20px;height:20px;float:left;margin-right:11px;border-radius:2px;border:1px solid grey}"]}),e})();function D(e,t){if(1&e){const e=i.Ub();i.Tb(0,"hero-edit",5),i.ac("heroChange",function(t){return i.pc(e),i.ec().editedHero=t})("done",function(){return i.pc(e),i.ec().editedHero=void 0}),i.Sb()}if(2&e){const e=i.ec();i.jc("hero",e.editedHero)}}let q=(()=>{class e{constructor(){}ngOnInit(){}editHero(e){this.editedHero=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["lib-rxdbdemo"]],decls:15,vars:1,consts:[[1,"container"],["id","top-line"],[1,"content"],[3,"hero","heroChange","done",4,"ngIf"],[3,"edit"],[3,"hero","heroChange","done"]],template:function(e,t){1&e&&(i.Tb(0,"div",0),i.Ob(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"h3"),i.xc(4,"Demo"),i.Sb(),i.vc(5,D,1,1,"hero-edit",3),i.Tb(6,"mat-card"),i.Tb(7,"mat-card-subtitle"),i.xc(8,"Heroes"),i.Sb(),i.Tb(9,"heroes-list",4),i.ac("edit",function(e){return t.editHero(e)}),i.Sb(),i.Sb(),i.Ob(10,"br"),i.Tb(11,"mat-card"),i.Tb(12,"mat-card-subtitle"),i.xc(13,"Add Hero"),i.Sb(),i.Ob(14,"hero-insert"),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.Cb(5),i.jc("ngIf",t.editedHero))},directives:[o.l,s.a,s.d,h,H,B],encapsulation:2}),e})();n("R1ws");let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({imports:[[x.f,o.c],x.f]}),e})();var $=n("tyNb");const X=[{path:"",component:q}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({imports:[[o.c,$.h.forChild(X),m.d,M.b,s.c,d.c,b.d,k,F]]}),e})()},bk9D:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("EPzc"),r=n("xt23"),o=n("g/MW"),s=n("MRCm");function c(e){return Object(i.b)((t,n)=>{Object(o.c)(e).subscribe(new r.a(n,()=>n.complete(),s.a)),!n.closed&&t.subscribe(n)})}},r9Bt:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("dLTe");function r(e){return Object(i.a)((t,n)=>e<=n)}}}]);