(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0aHk":function(t,o,e){"use strict";e.r(o),e.d(o,"RxdbService",function(){return i}),e.d(o,"RxdbComponent",function(){return y}),e.d(o,"RxdbModule",function(){return P});var c=e("fXoL");let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var n=e("mrSG"),d=e("bMpb"),r=e("rdQv"),s=e("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.API_URL="https://jsonplaceholder.typicode.com/todos"}getTodos(){return this.http.get(`${this.API_URL}`)}addTodo(t){this.http.post(`${this.API_URL}`,t).subscribe()}updateTodo(t){this.http.put(`${this.API_URL}/${t.id}`,t).subscribe()}removeTodo(t){this.http.delete(`${this.API_URL}/${t.id}`).subscribe()}}return t.\u0275fac=function(o){return new(o||t)(c.Xb(s.a))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t,o){this.databaseService=t,this.todoService=o,this.todoCollection=this.databaseService.db.todo}initTodos(){this.todoService.getTodos().pipe(Object(r.a)(t=>t.map(t=>({id:t.id.toString(),title:t.title,completed:t.completed})))).subscribe(t=>{this.todoCollection.bulkInsert(t)})}getTodoItems(){return this.todoCollection.find().$}getCompletedTodoItems(){return this.todoCollection.find().where("completed").eq(!0).$}createTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){const o={title:t.title,completed:!!t.completed,id:(new Date).getTime().toString()};return this.todoService.addTodo(o),this.todoCollection.insert(o)})}removeTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){const o=this.todoCollection.find().where("id").eq(t.id),e=yield o.remove();return this.todoService.removeTodo(t),e})}updateTodoItem(t){return Object(n.a)(this,void 0,void 0,function*(){return this.todoService.updateTodo(t),yield this.todoCollection.upsert(t)})}}return t.\u0275fac=function(o){return new(o||t)(c.Xb(d.a),c.Xb(b))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t})();var a=e("ofXK"),u=e("3Pt+");let p=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}addTodo(t){return Object(n.a)(this,void 0,void 0,function*(){console.log("ss",t),yield this.tododbService.createTodoItem(t)})}}return t.\u0275fac=function(o){return new(o||t)(c.Nb(l))},t.\u0275cmp=c.Hb({type:t,selectors:[["lib-add-todo"]],decls:15,vars:0,consts:[[1,"d-flex","justify-content-between"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","ngModel","","name","title",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","completed","ngModel","","name","completed",1,"form-check-input"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=c.Ub();c.Tb(0,"header",0),c.Tb(1,"h1"),c.xc(2,"Add todo"),c.Sb(),c.Sb(),c.Tb(3,"form",1,2),c.ac("ngSubmit",function(){c.pc(t);const e=c.nc(4);return o.addTodo(e.value)}),c.Tb(5,"div",3),c.Tb(6,"label",4),c.xc(7,"Title"),c.Sb(),c.Ob(8,"input",5),c.Sb(),c.Tb(9,"div",6),c.Ob(10,"input",7),c.Tb(11,"label",8),c.xc(12,"Completed"),c.Sb(),c.Sb(),c.Tb(13,"button",9),c.xc(14,"Add Todo"),c.Sb(),c.Sb()}},directives:[u.l,u.h,u.i,u.b,u.g,u.j,u.a],styles:[""]}),t})(),f=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){}updateTodo(t){this.tododbService.updateTodoItem(Object.assign({id:this.todo.id},t))}}return t.\u0275fac=function(o){return new(o||t)(c.Nb(l))},t.\u0275cmp=c.Hb({type:t,selectors:[["lib-edit-todo"]],inputs:{todo:"todo"},decls:15,vars:2,consts:[[1,"d-flex","justify-content-between","mt-2"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title",1,"form-control",3,"ngModel"],[1,"mb-3","form-check"],["type","checkbox","id","completed","name","completed",1,"form-check-input",3,"ngModel"],["for","completed",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const t=c.Ub();c.Tb(0,"header",0),c.Tb(1,"h1"),c.xc(2,"Edit todo"),c.Sb(),c.Sb(),c.Tb(3,"form",1,2),c.ac("ngSubmit",function(){c.pc(t);const e=c.nc(4);return o.updateTodo(e.value)}),c.Tb(5,"div",3),c.Tb(6,"label",4),c.xc(7,"Title"),c.Sb(),c.Ob(8,"input",5),c.Sb(),c.Tb(9,"div",6),c.Ob(10,"input",7),c.Tb(11,"label",8),c.xc(12,"Completed"),c.Sb(),c.Sb(),c.Tb(13,"button",9),c.xc(14,"Update Todo"),c.Sb(),c.Sb()}2&t&&(c.Cb(8),c.jc("ngModel",o.todo.title),c.Cb(2),c.jc("ngModel",o.todo.completed))},directives:[u.l,u.h,u.i,u.b,u.g,u.j,u.a],styles:[""]}),t})();function m(t,o){if(1&t){const t=c.Ub();c.Tb(0,"li",9),c.Tb(1,"div",10),c.ac("click",function(){c.pc(t);const e=o.$implicit;return c.ec(2).selectedTodo=e}),c.xc(2),c.Tb(3,"div"),c.xc(4),c.Sb(),c.Sb(),c.Tb(5,"i",11),c.ac("click",function(){c.pc(t);const e=o.$implicit;return c.ec(2).removeTodo(e)}),c.Sb(),c.Sb()}if(2&t){const t=o.$implicit;c.Cb(2),c.Ac(" ",t.id," - ",t.title," "),c.Cb(2),c.zc("Completed: ",t.completed,"")}}function v(t,o){if(1&t&&(c.Tb(0,"ul",7),c.vc(1,m,6,3,"li",8),c.Sb()),2&t){const t=o.ngIf;c.Cb(1),c.jc("ngForOf",t)}}function h(t,o){if(1&t){const t=c.Ub();c.Tb(0,"li",9),c.Tb(1,"div",10),c.ac("click",function(){c.pc(t);const e=o.$implicit;return c.ec(3).selectedTodo=e}),c.xc(2),c.Tb(3,"div"),c.xc(4),c.Sb(),c.Sb(),c.Tb(5,"i",11),c.ac("click",function(){c.pc(t);const e=o.$implicit;return c.ec(3).removeTodo(e)}),c.Sb(),c.Sb()}if(2&t){const t=o.$implicit;c.Cb(2),c.Ac(" ",t.id," - ",t.title," "),c.Cb(2),c.zc("Completed: ",t.completed,"")}}function T(t,o){if(1&t&&(c.Rb(0),c.Tb(1,"h2",12),c.xc(2),c.Sb(),c.Tb(3,"ul",7),c.vc(4,h,6,3,"li",8),c.Sb(),c.Qb()),2&t){const t=c.ec().ngIf;c.Cb(2),c.zc("Completed Todos (",t.length,")"),c.Cb(2),c.jc("ngForOf",t)}}function S(t,o){if(1&t&&(c.Tb(0,"div"),c.vc(1,T,5,2,"ng-container",4),c.Sb()),2&t){const t=o.ngIf;c.Cb(1),c.jc("ngIf",t.length)}}function g(t,o){if(1&t&&c.Ob(0,"lib-edit-todo",13),2&t){const t=c.ec();c.jc("todo",t.selectedTodo)}}let j=(()=>{class t{constructor(t){this.tododbService=t}ngOnInit(){this.todos$=this.tododbService.getTodoItems(),this.completedTodos$=this.tododbService.getCompletedTodoItems()}onTodoAdd(t){}onTodoEdit(t){}removeTodo(t){this.tododbService.removeTodoItem(t)}}return t.\u0275fac=function(o){return new(o||t)(c.Nb(l))},t.\u0275cmp=c.Hb({type:t,selectors:[["lib-todo-list"]],decls:12,vars:7,consts:[[1,"row"],[1,"col-sm-6"],[1,"d-flex","justify-content-between"],["class","list-group",4,"ngIf"],[4,"ngIf"],[3,"addTodo"],[3,"todo",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"todo",3,"click"],[1,"ti-trash",3,"click"],[1,"mt-5"],[3,"todo"]],template:function(t,o){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"header",2),c.Tb(3,"h1"),c.xc(4,"Todo List"),c.Sb(),c.Sb(),c.vc(5,v,2,1,"ul",3),c.fc(6,"async"),c.vc(7,S,2,1,"div",4),c.fc(8,"async"),c.Sb(),c.Tb(9,"div",1),c.Tb(10,"lib-add-todo",5),c.ac("addTodo",function(t){return o.onTodoAdd(t)}),c.Sb(),c.vc(11,g,1,1,"lib-edit-todo",6),c.Sb(),c.Sb()),2&t&&(c.Cb(5),c.jc("ngIf",c.gc(6,3,o.todos$)),c.Cb(2),c.jc("ngIf",c.gc(8,5,o.completedTodos$)),c.Cb(4),c.jc("ngIf",o.selectedTodo))},directives:[a.l,p,a.k,f],pipes:[a.b],styles:[".add-todo[_ngcontent-%COMP%]{display:flex;align-self:center}.todo[_ngcontent-%COMP%]{flex:1}.ti-trash[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),y=(()=>{class t{constructor(t){this.dbService=t}ngOnInit(){return Object(n.a)(this,void 0,void 0,function*(){console.log(this.dbService)})}}return t.\u0275fac=function(o){return new(o||t)(c.Nb(d.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["lib-rxdb"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,o){1&t&&(c.Tb(0,"div",0),c.Ob(1,"lib-todo-list"),c.Sb())},directives:[j],encapsulation:2}),t})();var O=e("bTqV"),I=e("tyNb");let x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["lib-view-todo"]],decls:2,vars:0,template:function(t,o){1&t&&(c.Tb(0,"p"),c.xc(1,"view-todo works!"),c.Sb())},styles:[""]}),t})();var w=e("sj7R"),C=e("9Jf+"),$=e("X/DG");let k=(()=>{class t{constructor(t){this.todoService=t,this._todos$=new $.a([])}get todos$(){return this._todos$.asObservable()}setTodos(t){this._todos$.next([...t])}addTodo(t){this._todos$.next([t,...this._todos$.getValue()]),this.todoService.addTodo(t)}removeTodo(t){this._todos$.next(this._todos$.getValue().filter(o=>o.id!==t.id)),this.todoService.removeTodo(t)}updateTodo(t){const o=this._todos$.getValue().map(o=>o.id===t.id?Object.assign(Object.assign({},o),t):o);this._todos$.next(o),this.todoService.updateTodo(t)}}return t.\u0275fac=function(o){return new(o||t)(c.Xb(b))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=e("iiaH");let M=(()=>{class t{constructor(t,o){this.store=t,this.dataService=o}resolve(t,o){return this.dataService.getTodos().pipe(Object(w.a)(t=>{this.store.setTodos(t)}),Object(C.a)())}}return t.\u0275fac=function(o){return new(o||t)(c.Xb(k),c.Xb(_.a))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t})();const A=[{path:"",component:y,children:[{path:"add-todo",component:p},{path:"edit-todo/:id",component:f},{path:"view-todo/:id",component:x}]}];let P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({providers:[M,l],imports:[[u.d,a.c,O.b,I.h.forChild(A)]]}),t})()},NaPT:function(t,o,e){"use strict";e.d(o,"a",function(){return p});var c=e("Jlqm"),i=e("g+Sw"),n=e("nnEh"),d=e("EPzc"),r=e("xt23"),s=e("MRCm"),b=e("sIyT"),l=e("1M4b");function a(t,o){return o?e=>Object(i.a)(o.pipe(Object(n.a)(1),Object(d.b)((t,o)=>{t.subscribe(new r.a(o,s.a))})),e.pipe(a(t))):Object(l.a)((o,e)=>t(o,e).pipe(Object(n.a)(1),Object(b.a)(o)))}var u=e("QoT1");function p(t,o=c.b){const e=Object(u.a)(t,o);return a(()=>e)}},sIyT:function(t,o,e){"use strict";e.d(o,"a",function(){return i});var c=e("rdQv");function i(t){return Object(c.a)(()=>t)}}}]);