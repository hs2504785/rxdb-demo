(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+UqO":function(t,e,n){"use strict";n.r(e),n.d(e,"IntersectionObserverModule",function(){return U});var i=n("ofXK"),c=n("tyNb"),o=n("mrSG"),s=n("SIQg"),r=n("oXA7"),b=n("sj3c"),a=n("dLTe"),u=function(t){return t.Visible="Visible",t.Pending="Pending",t.NotVisible="NotVisible",t}({});const l=(t,e,n=0)=>new s.a(i=>{const c=new r.a,s=new IntersectionObserver((t,e)=>{t.forEach(t=>{(function(t){return t.isIntersecting||t.intersectionRatio>0})(t)&&c.next({entry:t,observer:e})})},e);return c.subscribe(()=>{i.next(u.Pending)}),c.pipe(Object(b.a)(n),Object(a.a)(Boolean)).subscribe(({entry:t,observer:e})=>Object(o.a)(void 0,void 0,void 0,function*(){(yield function(t){return Object(o.a)(this,void 0,void 0,function*(){return new Promise(e=>{const n=new IntersectionObserver(([t])=>{e(t.isIntersecting),n.disconnect()});n.observe(t)})})}(t.target))?(i.next(u.Visible),e.unobserve(t.target)):i.next(u.NotVisible)})),s.observe(t),{unsubscribe(){s.disconnect(),c.unsubscribe()}}});var g=n("fXoL"),d=n("iiaH"),f=n("bk9D");let h=(()=>{class t{constructor(t){this.element=t,this.intersectionDebounce=0,this.intersectionRootMargin="0px",this.visibilityChange=new g.o,this.destroy$=new r.a}ngOnInit(){l(this.element.nativeElement,{root:this.intersectionRoot,rootMargin:this.intersectionRootMargin,threshold:this.intersectionThreshold},this.intersectionDebounce).pipe(Object(f.a)(this.destroy$)).subscribe(t=>{this.visibilityChange.emit(t)})}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(g.Nb(g.l))},t.\u0275dir=g.Ib({type:t,selectors:[["","intersectionObserver",""]],inputs:{intersectionDebounce:"intersectionDebounce",intersectionRootMargin:"intersectionRootMargin",intersectionRoot:"intersectionRoot",intersectionThreshold:"intersectionThreshold"},outputs:{visibilityChange:"visibilityChange"}}),t})();var v=n("vxfF");function p(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2,"Section 1 - Get list of todos \u2705"),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"pre"),g.xc(5),g.fc(6,"json"),g.fc(7,"async"),g.Sb(),g.Sb(),g.Qb()),2&t){const t=g.ec();g.Cb(5),g.yc(g.gc(6,1,g.gc(7,3,t.todos$)))}}function S(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function m(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function C(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2,"Section 2 - Posts \u2705"),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"pre"),g.xc(5),g.fc(6,"json"),g.fc(7,"async"),g.Sb(),g.Sb(),g.Qb()),2&t){const t=g.ec();g.Cb(5),g.yc(g.gc(6,1,g.gc(7,3,t.posts$)))}}function y(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function w(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function T(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2,"Section 3 - Comments \u2705"),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"pre"),g.xc(5),g.fc(6,"json"),g.fc(7,"async"),g.Sb(),g.Sb(),g.Qb()),2&t){const t=g.ec();g.Cb(5),g.yc(g.gc(6,1,g.gc(7,3,t.comments$)))}}function x(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function j(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function O(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2,"Section 4 - Albums \u2705"),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"pre"),g.xc(5),g.fc(6,"json"),g.fc(7,"async"),g.Sb(),g.Sb(),g.Qb()),2&t){const t=g.ec();g.Cb(5),g.yc(g.gc(6,1,g.gc(7,3,t.albums$)))}}function R(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function Q(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function P(t,e){if(1&t&&(g.Tb(0,"li",13),g.Tb(1,"h2"),g.xc(2),g.Sb(),g.Tb(3,"pre"),g.xc(4),g.fc(5,"json"),g.Sb(),g.Sb()),2&t){const t=e.$implicit;g.Cb(2),g.yc(t.title),g.Cb(2),g.yc(g.gc(5,2,t))}}function V(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"cdk-virtual-scroll-viewport",10),g.Tb(5,"ul",11),g.vc(6,P,6,4,"li",12),g.Sb(),g.Sb(),g.Sb(),g.Qb()),2&t){const t=e.ngIf;g.Cb(2),g.zc(" Section 5 - Photos (",t.length," records) \u2705 "),g.Cb(4),g.jc("cdkVirtualForOf",t)}}function D(t,e){if(1&t&&(g.Rb(0),g.vc(1,V,7,2,"ng-container",9),g.fc(2,"async"),g.Qb()),2&t){const t=g.ec();g.Cb(1),g.jc("ngIf",g.gc(2,1,t.photos$))}}function M(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function I(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function $(t,e){if(1&t&&(g.Rb(0),g.Tb(1,"div",6),g.xc(2,"Section 6 - Users \u2705"),g.Sb(),g.Tb(3,"div",7),g.Tb(4,"pre"),g.xc(5),g.fc(6,"json"),g.fc(7,"async"),g.Sb(),g.Sb(),g.Qb()),2&t){const t=g.ec();g.Cb(5),g.yc(g.gc(6,1,g.gc(7,3,t.users$)))}}function N(t,e){if(1&t&&(g.Rb(0),g.Pb(1,8),g.Qb()),2&t){g.ec();const t=g.nc(28);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function k(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function F(t,e){1&t&&(g.dc(),g.Tb(0,"svg",14),g.Tb(1,"circle",15),g.Ob(2,"animate",16),g.Ob(3,"animate",17),g.Sb(),g.Tb(4,"circle",18),g.Ob(5,"animate",19),g.Ob(6,"animate",20),g.Sb(),g.Tb(7,"circle",21),g.Ob(8,"animate",16),g.Ob(9,"animate",17),g.Sb(),g.Sb())}let B=(()=>{class t{constructor(t){this.dataService=t,this.visibilityStatus={},this.intersectionStatus=u}ngOnInit(){this.todos$=this.dataService.getTodos(),this.posts$=this.dataService.getPosts(),this.comments$=this.dataService.getComments(),this.albums$=this.dataService.getAlbums(),this.photos$=this.dataService.getPhotos(),this.users$=this.dataService.getUsers()}onVisibilityChanged(t,e){this.visibilityStatus[t]=e}}return t.\u0275fac=function(e){return new(e||t)(g.Nb(d.a))},t.\u0275cmp=g.Hb({type:t,selectors:[["app-demo"]],decls:29,vars:24,consts:[[1,"container-fluid"],["intersectionObserver","",1,"card","border-primary","mb-3",3,"intersectionDebounce","ngSwitch","visibilityChange"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["intersectionObserver","",1,"card","border-success","mb-3",3,"intersectionDebounce","ngSwitch","visibilityChange"],["loading",""],[1,"card-header"],[1,"card-body","text-primary"],[3,"ngTemplateOutlet"],[4,"ngIf"],["itemSize","231",1,"photos-viewport"],[1,"list-group"],["class","list-group-item photo",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"list-group-item","photo"],["width","120","height","30","viewBox","0 0 120 30","xmlns","http://www.w3.org/2000/svg","fill","#2196F3"],["cx","15","cy","15","r","15"],["attributeName","r","from","15","to","15","begin","0s","dur","0.8s","values","15;9;15","calcMode","linear","repeatCount","indefinite"],["attributeName","fill-opacity","from","1","to","1","begin","0s","dur","0.8s","values","1;.5;1","calcMode","linear","repeatCount","indefinite"],["cx","60","cy","15","r","9","fill-opacity","0.3"],["attributeName","r","from","9","to","9","begin","0s","dur","0.8s","values","9;15;9","calcMode","linear","repeatCount","indefinite"],["attributeName","fill-opacity","from","0.5","to","0.5","begin","0s","dur","0.8s","values",".5;1;.5","calcMode","linear","repeatCount","indefinite"],["cx","105","cy","15","r","15"]],template:function(t,e){1&t&&(g.Tb(0,"div",0),g.Tb(1,"h1"),g.xc(2,"Load Component on scroll"),g.Sb(),g.Tb(3,"div",1),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("todos",t)}),g.vc(4,p,8,5,"ng-container",2),g.vc(5,S,2,1,"ng-container",2),g.vc(6,m,2,0,"ng-container",3),g.Sb(),g.Tb(7,"div",4),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("posts",t)}),g.vc(8,C,8,5,"ng-container",2),g.vc(9,y,2,1,"ng-container",2),g.vc(10,w,2,0,"ng-container",3),g.Sb(),g.Tb(11,"div",4),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("comments",t)}),g.vc(12,T,8,5,"ng-container",2),g.vc(13,x,2,1,"ng-container",2),g.vc(14,j,2,0,"ng-container",3),g.Sb(),g.Tb(15,"div",4),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("albums",t)}),g.vc(16,O,8,5,"ng-container",2),g.vc(17,R,2,1,"ng-container",2),g.vc(18,Q,2,0,"ng-container",3),g.Sb(),g.Tb(19,"div",4),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("photos",t)}),g.vc(20,D,3,3,"ng-container",2),g.vc(21,M,2,1,"ng-container",2),g.vc(22,I,2,0,"ng-container",3),g.Sb(),g.Tb(23,"div",4),g.ac("visibilityChange",function(t){return e.onVisibilityChanged("users",t)}),g.vc(24,$,8,5,"ng-container",2),g.vc(25,N,2,1,"ng-container",2),g.vc(26,k,2,0,"ng-container",3),g.Sb(),g.Sb(),g.vc(27,F,10,0,"ng-template",null,5,g.wc)),2&t&&(g.Cb(3),g.jc("intersectionDebounce",0)("ngSwitch",e.visibilityStatus.todos),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending),g.Cb(2),g.jc("intersectionDebounce",0)("ngSwitch",e.visibilityStatus.posts),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending),g.Cb(2),g.jc("intersectionDebounce",0)("ngSwitch",e.visibilityStatus.comments),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending),g.Cb(2),g.jc("intersectionDebounce",0)("ngSwitch",e.visibilityStatus.albums),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending),g.Cb(2),g.jc("intersectionDebounce",500)("ngSwitch",e.visibilityStatus.photos),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending),g.Cb(2),g.jc("intersectionDebounce",0)("ngSwitch",e.visibilityStatus.users),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",e.intersectionStatus.Pending))},directives:[h,i.m,i.n,i.o,i.p,i.l,v.e,v.a,v.d],pipes:[i.f,i.b],styles:[".card[_ngcontent-%COMP%]{height:100vh;overflow-y:auto}.photos-viewport[_ngcontent-%COMP%]{height:300px;overflow-y:auto;outline:4px solid #ff0}"],changeDetection:0}),t})();function L(t,e){1&t&&(g.Rb(0),g.xc(1," \u2705 "),g.Qb())}function z(t,e){if(1&t&&(g.Rb(0),g.Pb(1,10),g.Qb()),2&t){g.ec(2);const t=g.nc(5);g.Cb(1),g.jc("ngTemplateOutlet",t)}}function A(t,e){1&t&&(g.Rb(0),g.xc(1," \u274c "),g.Qb())}function E(t,e){if(1&t){const t=g.Ub();g.Rb(0),g.Tb(1,"div",3),g.ac("visibilityChange",function(n){g.pc(t);const i=e.$implicit;return g.ec().onVisibilityChanged(i,n)}),g.Tb(2,"div",4),g.Tb(3,"div",5),g.Tb(4,"div",6),g.xc(5),g.Sb(),g.Tb(6,"div",7),g.vc(7,L,2,0,"ng-container",8),g.vc(8,z,2,1,"ng-container",8),g.vc(9,A,2,0,"ng-container",9),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Qb()}if(2&t){const t=e.$implicit,n=g.ec();g.Cb(1),g.jc("intersectionDebounce",0),g.Cb(4),g.zc(" ",t," "),g.Cb(1),g.jc("ngSwitch",n.visibilityStatus[t]),g.Cb(1),g.jc("ngSwitchCase",n.intersectionStatus.Visible),g.Cb(1),g.jc("ngSwitchCase",n.intersectionStatus.Pending)}}function J(t,e){1&t&&(g.dc(),g.Tb(0,"svg",11),g.Tb(1,"circle",12),g.Ob(2,"animate",13),g.Ob(3,"animate",14),g.Sb(),g.Tb(4,"circle",15),g.Ob(5,"animate",16),g.Ob(6,"animate",17),g.Sb(),g.Tb(7,"circle",18),g.Ob(8,"animate",13),g.Ob(9,"animate",14),g.Sb(),g.Sb())}const q=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Hb({type:t,selectors:[["app-intersection-observer"]],decls:6,vars:0,consts:[[1,"m-2","d-flex","justify-content-center"],["routerLink","sample","routerLinkActive","active",1,"btn","btn-outline-success","mr-2"],["routerLink","demo","routerLinkActive","active",1,"btn","btn-outline-warning"]],template:function(t,e){1&t&&(g.Tb(0,"header",0),g.Tb(1,"a",1),g.xc(2,"Sample"),g.Sb(),g.Tb(3,"a",2),g.xc(4,"Demo"),g.Sb(),g.Sb(),g.Ob(5,"router-outlet"))},directives:[c.g,c.f,c.i],styles:[""]}),t})(),children:[{path:"sample",component:(()=>{class t{constructor(){this.list=[],this.visibilityStatus={},this.intersectionStatus=u}ngOnInit(){const t=[];for(let e=0;e<1e3;e++)t.push(e);this.list=t}onVisibilityChanged(t,e){this.visibilityStatus[t]=e}trackByIndex(t){return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Hb({type:t,selectors:[["app-sample"]],decls:6,vars:2,consts:[[1,"p-2"],[4,"ngFor","ngForOf","ngForTrackBy"],["loading",""],["intersectionObserver","",1,"max-w-sm","rounded","overflow-hidden","shadow-lg","px-5","py-5","m-2",3,"intersectionDebounce","visibilityChange"],[1,"px-3","py-1","text-sm","font-semibold","text-gray-700","mr-2"],[1,"flex"],[1,"flex-grow","content-center","text-6xl","font-sans"],[1,"flex-grow","flex-end","content-center","self-center","text-6xl","font-sans",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],["width","120","height","30","viewBox","0 0 120 30","xmlns","http://www.w3.org/2000/svg","fill","#2196F3"],["cx","15","cy","15","r","15"],["attributeName","r","from","15","to","15","begin","0s","dur","0.8s","values","15;9;15","calcMode","linear","repeatCount","indefinite"],["attributeName","fill-opacity","from","1","to","1","begin","0s","dur","0.8s","values","1;.5;1","calcMode","linear","repeatCount","indefinite"],["cx","60","cy","15","r","9","fill-opacity","0.3"],["attributeName","r","from","9","to","9","begin","0s","dur","0.8s","values","9;15;9","calcMode","linear","repeatCount","indefinite"],["attributeName","fill-opacity","from","0.5","to","0.5","begin","0s","dur","0.8s","values",".5;1;.5","calcMode","linear","repeatCount","indefinite"],["cx","105","cy","15","r","15"]],template:function(t,e){1&t&&(g.Tb(0,"div",0),g.Tb(1,"h1"),g.xc(2,"Sample with 1000 records"),g.Sb(),g.vc(3,E,10,5,"ng-container",1),g.Sb(),g.vc(4,J,10,0,"ng-template",null,2,g.wc)),2&t&&(g.Cb(3),g.jc("ngForOf",e.list)("ngForTrackBy",e.trackByIndex))},directives:[i.k,h,i.m,i.n,i.o,i.p],styles:[""]}),t})(),pathMatch:"full"},{path:"demo",component:B,pathMatch:"full"},{path:"",redirectTo:"sample"}]}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({imports:[[c.h.forChild(q)],c.h]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({imports:[[i.c,v.g,H]]}),t})()},"B/+1":function(t,e,n){"use strict";function i(t){return t instanceof Date&&!isNaN(t)}n.d(e,"a",function(){return i})},NaPT:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("Jlqm"),c=n("g+Sw"),o=n("nnEh"),s=n("EPzc"),r=n("xt23"),b=n("MRCm"),a=n("sIyT"),u=n("1M4b");function l(t,e){return e?n=>Object(c.a)(e.pipe(Object(o.a)(1),Object(s.b)((t,e)=>{t.subscribe(new r.a(e,b.a))})),n.pipe(l(t))):Object(u.a)((e,n)=>t(e,n).pipe(Object(o.a)(1),Object(a.a)(e)))}var g=n("QoT1");function d(t,e=i.b){const n=Object(g.a)(t,e);return l(()=>n)}},QoT1:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("SIQg"),c=n("Jlqm"),o=n("XwfS"),s=n("B/+1");function r(t=0,e,n=c.a){let r=-1;return null!=e&&(Object(o.a)(e)?n=e:r=e),new i.a(e=>{let i=Object(s.a)(t)?+t-n.now():t;i<0&&(i=0);let c=0;return n.schedule(function(){e.closed||(e.next(c++),0<=r?this.schedule(void 0,r):e.complete())},i)})}},sIyT:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("rdQv");function c(t){return Object(i.a)(()=>t)}},sj3c:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Jlqm"),c=n("EPzc"),o=n("xt23");function s(t,e=i.b){return Object(c.b)((n,i)=>{let c=null,s=null,r=null;const b=()=>{if(c){c.unsubscribe(),c=null;const t=s;s=null,i.next(t)}};function a(){const n=r+t,i=e.now();i<n?c=this.schedule(void 0,n-i):b()}n.subscribe(new o.a(i,n=>{s=n,r=e.now(),c||(c=e.schedule(a,t))},()=>{b(),i.complete()},void 0,()=>{s=c=null}))})}}}]);